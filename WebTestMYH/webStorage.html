<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>web存储学习</title>
    </head>
    <body>
        <div style="border: 2px dashed #ccc;width: 320;text-align: center;">
        <label for="keyname">别名(key)：</label>
        <input type="text" id="keyname" name="keyname" class="text"><br>
        <label for="sitename">网站名：</label>
        <input type="text" id="sitename" name="sitename"><br>
        <label for="url">网址：</label>
        <input type="text" id="url" name="url"><br>
        <button type="button" onclick="saveData()">新增记录</button>
        <hr>
        <label for="searchkey">输入别名：</label>
        <input type="text" id="searchKey" name="searchkey">
        <button type="button" onclick="searchdata()">查找记录</button>
        <p id="searchtext">&nbsp;</p>
        </div>
        <script>
           function saveData(){
            var keyobj = document.getElementById("keyname").value;
            var sitenameObj = document.getElementById("sitename").value;
            var urlObj = document.getElementById("url").value;
            var parm = new Object;
            parm.keyname = keyobj;
            parm.sitename = sitenameObj;
            parm.url = urlObj;
            var jsonStr = JSON.stringify(parm);
            localStorage.setItem(keyobj,jsonStr);
            alert("新增成功");
           }
           function searchdata(){
            var searchKey = document.getElementById("searchKey").value;
            var jsonStr = localStorage.getItem(searchKey);
            if(jsonStr){
                var parm = JSON.parse(jsonStr);
                var result = "key:"+searchKey+"sitename:" +parm.sitename+"url:"+parm.url;
                document.getElementById("searchtext").innerHTML = result;
            }else{
                alert("没有记录");
            }
           }
        </script>
    </body>
</html>